<div class="container">
  <!-- SIGNUP OR lOGIN  -->
  <div id=signupOrLogin class="row">
    <div class="col-xs-12 col-sm-12 com-lg-12 col-lg-12">
      <p id="signupOrLoginText"><span class="line">Save the recipes </span> <span class="line"> you love!</span></p>
      <!-- <a id="signUpButton" href="/signup" class="btn btn-default btn-lg" role="button">Sign Up</a>
      <a id="logInButton" href="/login" class="btn btn-default btn-lg" role="button">Log In</a> -->
      <a href="/signup" class="button orange">Sign Up</a>
      <a href="/login" class="button green">Log In</a>
    </div>
  </div>

  <!-- SEARCH BAR -->
  <div id="searchBar" class="row">
    <div class="col-xs-12 col-sm-12 com-lg-12 col-lg-12">
      <form id="search-form"  role="form"  target="_blank" ng-submit="homeComp.multipleAdvancedSearchTerms()">
        <div class="input-group">
          <input type="text" class="form-control search-form" ng-model="homeComp.userInput" placeholder="Find the best recipes from across the web..." />
          <span class="input-group-btn">
            <button type="submit" class="btn btn-primary search-btn" data-target="#search-form"><i class="fa fa-search"></i></button>
          </span>
        </div>
      </form>
    </div>
  </div>

  <!-- SEARCH FILTER -->
  <div id="searchFilter" class="row">
    <div class="col-xs-12 col-sm-12 com-lg-12 col-lg-12">
      <a id="searchFilterText"
      ng-click="advancedSearchHidingOpen = !advancedSearchHidingOpen">
        <span id="smallFont"> REFINE SEARCH BY </span> <span id="bold"> Calories, Diet, Ingredients </span> <span id="searchFilterDownArrow" class="glyphicon glyphicon-triangle-bottom"></span>
      </a>
    </div>
  </div>

  <div class="row">
    <div id="advancedSearchDiv" class="col-xs-12 col-lg-12" ng-show="advancedSearchHidingOpen">
        <form id="advancedSearch-form"  role="form"  target="_blank" ng-submit="homeComp.multipleAdvancedSearchTerms()">
          <div class="row">
            <div class="col-xs-1 col-lg-1">
            </div>
            <div class="col-xs-2 col-lg-2">
              <span class="advancedSearchSectionHeader">Calories</span> <br>
              <span>From <input id="textBoxInputMinCal" type="text" style="width:50px;"/></span> <br>
              <span>To <input id="textBoxInputMaxCal" type="text" style="width:50px;"/></span><br>
              <span class="advancedSearchSectionHeader">Ingredients</span> <br>
              <span>Up to <input id="textBoxInputMaxIngred" type="text" style="width:50px;" ng-model="homeComp.maxIngredients"/></span><br>
              max ingredients {{homeComp.maxIngredients}}
            </div>
            <div class="col-xs-2 col-lg-2">
              <span class="advancedSearchSectionHeader">Diet</span> <br>
              <div class="dietFormGroup" class="form-group">
                <label><input type="checkbox" ng-model="homeComp.dict['Vegetarian']" value="Vegetarian">  Vegetarian</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Vegan']" value="Vegan">  Vegan</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Paleo']" value="Paleo">  Paleo</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['High-Fiber']" value="High-Fiber">  High-Fiber</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['High-Protein']" value="High-Protein">  High-Protein</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Low-Carb']" value="Low-Carb">  Low-Carb</label><br>
              </div>
            </div>
            <div class="col-xs-2 col-lg-2">
              <br>
              <div class="dietFormGroup" class="form-group">
                <label><input type="checkbox" ng-model="homeComp.dict['Low-Fat']" value="Low-Fat">  Low-Fat</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Low-Sodium']" value="Low-Sodium">  Low-Sodium</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Low-Sugar']" value="Low-Sugar">  Low-Sugar</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Alcohol-Free']" value="Alcohol-Free">  Alcohol-Free</label><br>
                <label><input type="checkbox" ng-model="homeComp.dict['Balanced']" value="Balanced">  Balanced</label><br>
                balanced: {{homeComp.dict['balanced']}}
                vegetarian: {{homeComp.dict['vegetarian']}}
                vegan: {{homeComp.dict['vegan']}}
                paleo: {{homeComp.dict['paleo']}}
                fiber: {{homeComp.dict['high-fiber']}}
                protein: {{homeComp.dict['high-protein']}}
                carb: {{homeComp.dict['low-carb']}}
                fat: {{homeComp.dict['low-fat']}}
                sodium: {{homeComp.dict['low-sodium']}}
                sugar: {{homeComp.dict['low-sugar']}}
                alcohol: {{homeComp.dict['alcohol-free']}}
                homeComp.dict: {{homeComp.dict}}
                homeComp.searchTerm: {{homeComp.searchTerm}}
              </div>
            </div>
            <div class="col-xs-2 col-lg-2">
              <b>Allergies</b> <br>
              <div class="allergyFormGroup" class="form-group">
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="gluten-free">  Gluten</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="dairy-free">  Dairy</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="egg-free">  Eggs</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="soy-free">  Soy</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="wheat-free">  Wheat</label><br>
              </div>
            </div>
            <div class="col-xs-2 col-lg-2">
              <br>
              <div class="allergyFormGroup" class="form-group">
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="fish-free">  Fish</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="shellfish-free">  Shellfish</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="tree-nut-free">  Tree Nuts</label><br>
                <label><input type="radio" name="allergyOption" ng-model="homeComp.allergy" value="peanut-free">  Peanuts</label><br>
                <br>
                <br>
              </div>
              <button id="advancedSearchFormButton" type="submit" class="button green" data-target="#advancedSearch-form"><span id="advancedSearchIcon" class="glyphicon glyphicon-check">&nbsp;<span id="advancedSearchButtonText"><b>Done</b></span></span></button>
            </div>
            homeComp.allergy {{homeComp.allergy}}
            <div class="col-xs-1 col-lg-1">
            </div>
          </div>
        </form>
      </div>
  </div>



  <div ng-show="homeComp.results !== undefined && homeComp.results.length === 0">
    Sorry, no results.
  </div>

  <div ng-show="homeComp.results !== undefined && homeComp.results.length > 0"
       ng-repeat="result in homeComp.results">

    <h1>{{result.recipe.label}}</h1>

    <img ng-if="result.recipe.image !== 'N/A'" ng-src="{{result.recipe.image}}" />
    <img ng-if="result.recipe.image === 'N/A'" src="not-found.jpg">

    <p>See full recipe on: <a href="{{result.recipe.url}}">{{result.recipe.source}}</a></p>
    <button type="button" class="btn btn-primary" aria-pressed="false" autocomplete="off">
      <span class="glyphicon glyphicon-bookmark"></span> Save
    </button>

    <h2>{{result.recipe.ingredientLines.length}} Ingredients</h2>
    <p ng-repeat="each in result.recipe.ingredients">{{each.text}}</p>

    <h2>Nutrition </h2>
    <p> {{result.recipe.calories/result.recipe.yield | noDecimal}} <br> CALORIES/SERVING</p>
    <p> {{result.recipe.calories/result.recipe.yield | dailyCalPercent}}%<BR> DAILY VALUE</p>
    <P> {{result.recipe.yield}} <BR> SERVINGS </P>

    <h2>Preparation</h2>
    <p>
      <button type="button" class="btn btn-primary" aria-pressed="false" autocomplete="off">
         Instructions
      </button> on <a href="{{result.recipe.url}}">{{result.recipe.source}}</a>
    </p>

    <h3> <a href="#">{{result.recipe.dietLabels | showFirst}}</a> <a href="#">{{result.recipe.healthLabels | showFirst}}</a></h3>

    <canvas id="doughnut" class="chart chart-doughnut"
      chart-data="homeComp.data" chart-labels="homeComp.labels">
    </canvas>

    <div ng-repeat="all in result.recipe.digest">
      <p>
        <a id="all-{{$index}}"
        ng-click="all.isHidingOpen = !all.isHidingOpen"
        ng-class="{'glyphicon glyphicon-play': all.sub.length > 0, 'disable-link': !all.sub }">
        {{all.label }}</a>
        {{all.total/result.recipe.yield | noDecimal}}{{all.unit}}
        {{(all.total/result.recipe.yield)/all.daily | percentage}}%
      </p>
      <p ng-show="all.isHidingOpen"
         ng-repeat="subitem in all.sub"
         id="subitem-{{$index}}">
        {{subitem.label}}
        {{subitem.total/result.recipe.yield | noDecimal}}{{subitem.unit}}
        {{(subitem.total/result.recipe.yield)/subitem.daily | percentage}}%
      </p>
    </div>

  </div>
</div>
